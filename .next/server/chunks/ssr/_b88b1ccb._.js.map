{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Documents/GitHub/legal_analysis-nextjs/frontend/utils/db.ts"],"sourcesContent":["import { set, get, del } from 'idb-keyval';\r\n\r\n// أنواع البيانات\r\nexport interface AnalysisStage {\r\n  id: string;\r\n  stageIndex: number;\r\n  stage: string;\r\n  input: string;\r\n  output: string;\r\n  date: string;\r\n}\r\n\r\nexport interface LegalCase {\r\n  id: string;\r\n  name: string;\r\n  createdAt: string;\r\n  stages: AnalysisStage[];\r\n  tags?: string[];\r\n}\r\n\r\nexport interface LegalTemplate {\r\n  id: string;\r\n  name: string;\r\n  content: string; // يحتوي نص القالب مع متغيرات {{caseName}} {{stageSummaries}}\r\n  createdAt: string;\r\n  updatedAt: string;\r\n}\r\n\r\n// مفاتيح التخزين\r\nconst CASES_KEY = 'legal_cases';\r\nconst API_KEY = 'gemini_api_key';\r\nconst TEMPLATES_KEY = 'legal_templates';\r\n\r\n// دوال مفتاح API\r\nexport async function saveApiKey(apiKey: string) {\r\n  await set(API_KEY, apiKey);\r\n}\r\n\r\nexport async function loadApiKey(): Promise<string> {\r\n  return (await get(API_KEY)) || '';\r\n}\r\n\r\n// دوال CRUD للقضايا\r\nexport async function getAllCases(): Promise<LegalCase[]> {\r\n  return (await get(CASES_KEY)) || [];\r\n}\r\n\r\nexport async function saveAllCases(cases: LegalCase[]) {\r\n  await set(CASES_KEY, cases);\r\n}\r\n\r\nexport async function addCase(newCase: LegalCase): Promise<void> {\r\n  const cases = await getAllCases();\r\n  cases.unshift(newCase);\r\n  await saveAllCases(cases);\r\n}\r\n\r\nexport async function updateCase(updatedCase: LegalCase): Promise<void> {\r\n  let cases = await getAllCases();\r\n  cases = cases.map(c => c.id === updatedCase.id ? updatedCase : c);\r\n  await saveAllCases(cases);\r\n}\r\n\r\nexport async function deleteCase(caseId: string): Promise<void> {\r\n  let cases = await getAllCases();\r\n  cases = cases.filter(c => c.id !== caseId);\r\n  await saveAllCases(cases);\r\n}\r\n\r\nexport async function getCaseById(caseId: string): Promise<LegalCase | undefined> {\r\n  const cases = await getAllCases();\r\n  return cases.find(c => c.id === caseId);\r\n}\r\n\r\n// دوال إدارة المراحل داخل قضية\r\nexport async function addStageToCase(caseId: string, stage: AnalysisStage): Promise<void> {\r\n  const cases = await getAllCases();\r\n  const idx = cases.findIndex(c => c.id === caseId);\r\n  if (idx === -1) return;\r\n  cases[idx].stages.push(stage);\r\n  await saveAllCases(cases);\r\n}\r\n\r\nexport async function updateStageInCase(caseId: string, stage: AnalysisStage): Promise<void> {\r\n  const cases = await getAllCases();\r\n  const idx = cases.findIndex(c => c.id === caseId);\r\n  if (idx === -1) return;\r\n  cases[idx].stages = cases[idx].stages.map(s => s.id === stage.id ? stage : s);\r\n  await saveAllCases(cases);\r\n}\r\n\r\nexport async function deleteStageFromCase(caseId: string, stageId: string): Promise<void> {\r\n  const cases = await getAllCases();\r\n  const idx = cases.findIndex(c => c.id === caseId);\r\n  if (idx === -1) return;\r\n  cases[idx].stages = cases[idx].stages.filter(s => s.id !== stageId);\r\n  await saveAllCases(cases);\r\n}\r\n\r\n// دالة حذف جميع القضايا\r\nexport async function clearAllCases() {\r\n  await del(CASES_KEY);\r\n}\r\n\r\n// قوالب قانونية - CRUD\r\nexport async function getAllTemplates(): Promise<LegalTemplate[]> {\r\n  return (await get(TEMPLATES_KEY)) || [];\r\n}\r\n\r\nexport async function saveAllTemplates(templates: LegalTemplate[]): Promise<void> {\r\n  await set(TEMPLATES_KEY, templates);\r\n}\r\n\r\nexport async function addTemplate(t: LegalTemplate): Promise<void> {\r\n  const list = await getAllTemplates();\r\n  list.unshift(t);\r\n  await saveAllTemplates(list);\r\n}\r\n\r\nexport async function updateTemplate(t: LegalTemplate): Promise<void> {\r\n  let list = await getAllTemplates();\r\n  list = list.map(x => x.id === t.id ? t : x);\r\n  await saveAllTemplates(list);\r\n}\r\n\r\nexport async function deleteTemplate(id: string): Promise<void> {\r\n  let list = await getAllTemplates();\r\n  list = list.filter(x => x.id !== id);\r\n  await saveAllTemplates(list);\r\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 114, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Documents/GitHub/legal_analysis-nextjs/frontend/components/WelcomeHeader.tsx"],"sourcesContent":["import React from 'react';\r\nimport Link from 'next/link';\r\nimport { useTheme } from '../contexts/ThemeContext';\r\n\r\ninterface User {\r\n  username: string;\r\n  role: string;\r\n  officeId: string;\r\n}\r\n\r\ninterface WelcomeHeaderProps {\r\n  user: User;\r\n  onLogout: () => void;\r\n}\r\n\r\nexport default function WelcomeHeader({ user, onLogout }: WelcomeHeaderProps) {\r\n  const { theme } = useTheme();\r\n\r\n  return (\r\n    <div style={{\r\n      background: `linear-gradient(135deg, ${theme.accent} 0%, ${theme.accent2} 100%)`,\r\n      borderRadius: 16,\r\n      padding: '20px',\r\n      marginBottom: 24,\r\n      boxShadow: `0 4px 20px ${theme.accent}33`,\r\n      border: `1px solid ${theme.accent}`,\r\n      color: '#fff',\r\n      textAlign: 'center'\r\n    }}>\r\n      <div style={{fontSize: 24, fontWeight: 800, marginBottom: 8}}>\r\n        🎉 مرحباً بك، {user.username}!\r\n      </div>\r\n      <div style={{fontSize: 16, opacity: 0.9, marginBottom: 16}}>\r\n        {user.role === 'admin' ? 'مدير مكتب' : 'موظف'} في {user.officeId}\r\n      </div>\r\n      <div style={{display: 'flex', gap: 12, justifyContent: 'center', flexWrap: 'wrap'}}>\r\n        <Link href=\"/dashboard\" style={{ textDecoration: 'none' }}>\r\n          <button style={{\r\n            background: 'rgba(255,255,255,0.2)',\r\n            color: '#fff',\r\n            border: '2px solid rgba(255,255,255,0.3)',\r\n            borderRadius: 8,\r\n            padding: '8px 16px',\r\n            fontSize: 14,\r\n            fontWeight: 600,\r\n            cursor: 'pointer',\r\n            transition: 'all 0.3s ease'\r\n          }}>\r\n            🏢 لوحة التحكم\r\n          </button>\r\n        </Link>\r\n        <button\r\n          onClick={onLogout}\r\n          style={{\r\n            background: 'rgba(239,68,68,0.2)',\r\n            color: '#fff',\r\n            border: '2px solid rgba(239,68,68,0.3)',\r\n            borderRadius: 8,\r\n            padding: '8px 16px',\r\n            fontSize: 14,\r\n            fontWeight: 600,\r\n            cursor: 'pointer',\r\n            transition: 'all 0.3s ease'\r\n          }}\r\n        >\r\n          🚪 تسجيل الخروج\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n} "],"names":[],"mappings":";;;;AACA;AACA;;;;AAae,SAAS,cAAc,EAAE,IAAI,EAAE,QAAQ,EAAsB;IAC1E,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,kHAAA,CAAA,WAAQ,AAAD;IAEzB,qBACE,qKAAC;QAAI,OAAO;YACV,YAAY,CAAC,wBAAwB,EAAE,MAAM,MAAM,CAAC,KAAK,EAAE,MAAM,OAAO,CAAC,MAAM,CAAC;YAChF,cAAc;YACd,SAAS;YACT,cAAc;YACd,WAAW,CAAC,WAAW,EAAE,MAAM,MAAM,CAAC,EAAE,CAAC;YACzC,QAAQ,CAAC,UAAU,EAAE,MAAM,MAAM,EAAE;YACnC,OAAO;YACP,WAAW;QACb;;0BACE,qKAAC;gBAAI,OAAO;oBAAC,UAAU;oBAAI,YAAY;oBAAK,cAAc;gBAAC;;oBAAG;oBAC7C,KAAK,QAAQ;oBAAC;;;;;;;0BAE/B,qKAAC;gBAAI,OAAO;oBAAC,UAAU;oBAAI,SAAS;oBAAK,cAAc;gBAAE;;oBACtD,KAAK,IAAI,KAAK,UAAU,cAAc;oBAAO;oBAAK,KAAK,QAAQ;;;;;;;0BAElE,qKAAC;gBAAI,OAAO;oBAAC,SAAS;oBAAQ,KAAK;oBAAI,gBAAgB;oBAAU,UAAU;gBAAM;;kCAC/E,qKAAC,qHAAA,CAAA,UAAI;wBAAC,MAAK;wBAAa,OAAO;4BAAE,gBAAgB;wBAAO;kCACtD,cAAA,qKAAC;4BAAO,OAAO;gCACb,YAAY;gCACZ,OAAO;gCACP,QAAQ;gCACR,cAAc;gCACd,SAAS;gCACT,UAAU;gCACV,YAAY;gCACZ,QAAQ;gCACR,YAAY;4BACd;sCAAG;;;;;;;;;;;kCAIL,qKAAC;wBACC,SAAS;wBACT,OAAO;4BACL,YAAY;4BACZ,OAAO;4BACP,QAAQ;4BACR,cAAc;4BACd,SAAS;4BACT,UAAU;4BACV,YAAY;4BACZ,QAAQ;4BACR,YAAY;wBACd;kCACD;;;;;;;;;;;;;;;;;;AAMT","debugId":null}},
    {"offset": {"line": 243, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Documents/GitHub/legal_analysis-nextjs/frontend/components/AuthCallToAction.tsx"],"sourcesContent":["import React from 'react';\r\nimport Link from 'next/link';\r\nimport { useTheme } from '../contexts/ThemeContext';\r\n\r\nexport default function AuthCallToAction() {\r\n  const { theme } = useTheme();\r\n\r\n  return (\r\n    <div style={{\r\n      background: `linear-gradient(135deg, ${theme.accent} 0%, ${theme.accent2} 100%)`,\r\n      borderRadius: 16,\r\n      padding: '32px',\r\n      marginBottom: 24,\r\n      boxShadow: `0 4px 20px ${theme.accent}33`,\r\n      border: `1px solid ${theme.accent}`,\r\n      textAlign: 'center',\r\n      color: '#fff'\r\n    }}>\r\n      <div style={{fontSize: 28, fontWeight: 800, marginBottom: 16}}>\r\n        🚀 منصة التحليل القانوني الذكي\r\n      </div>\r\n      <div style={{fontSize: 18, opacity: 0.9, marginBottom: 24, lineHeight: 1.6}}>\r\n        انضم إلينا واحصل على تحليل قانوني متقدم في 12 مرحلة<br/>\r\n        مع عريضة قانونية نهائية جاهزة للمحكمة\r\n      </div>\r\n      <div style={{display: 'flex', gap: 16, justifyContent: 'center', flexWrap: 'wrap'}}>\r\n        <Link href=\"/login\" style={{ textDecoration: 'none' }}>\r\n          <button style={{\r\n            background: 'rgba(255,255,255,0.2)',\r\n            color: '#fff',\r\n            border: '2px solid rgba(255,255,255,0.3)',\r\n            borderRadius: 12,\r\n            padding: '16px 32px',\r\n            fontSize: 18,\r\n            fontWeight: 700,\r\n            cursor: 'pointer',\r\n            transition: 'all 0.3s ease',\r\n            backdropFilter: 'blur(10px)'\r\n          }}>\r\n            🔐 تسجيل الدخول\r\n          </button>\r\n        </Link>\r\n        <Link href=\"/register\" style={{ textDecoration: 'none' }}>\r\n          <button style={{\r\n            background: 'rgba(255,255,255,0.9)',\r\n            color: theme.accent,\r\n            border: '2px solid rgba(255,255,255,0.3)',\r\n            borderRadius: 12,\r\n            padding: '16px 32px',\r\n            fontSize: 18,\r\n            fontWeight: 700,\r\n            cursor: 'pointer',\r\n            transition: 'all 0.3s ease'\r\n          }}>\r\n            🚀 إنشاء حساب جديد\r\n          </button>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n} "],"names":[],"mappings":";;;;AACA;AACA;;;;AAEe,SAAS;IACtB,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,kHAAA,CAAA,WAAQ,AAAD;IAEzB,qBACE,qKAAC;QAAI,OAAO;YACV,YAAY,CAAC,wBAAwB,EAAE,MAAM,MAAM,CAAC,KAAK,EAAE,MAAM,OAAO,CAAC,MAAM,CAAC;YAChF,cAAc;YACd,SAAS;YACT,cAAc;YACd,WAAW,CAAC,WAAW,EAAE,MAAM,MAAM,CAAC,EAAE,CAAC;YACzC,QAAQ,CAAC,UAAU,EAAE,MAAM,MAAM,EAAE;YACnC,WAAW;YACX,OAAO;QACT;;0BACE,qKAAC;gBAAI,OAAO;oBAAC,UAAU;oBAAI,YAAY;oBAAK,cAAc;gBAAE;0BAAG;;;;;;0BAG/D,qKAAC;gBAAI,OAAO;oBAAC,UAAU;oBAAI,SAAS;oBAAK,cAAc;oBAAI,YAAY;gBAAG;;oBAAG;kCACxB,qKAAC;;;;;oBAAI;;;;;;;0BAG1D,qKAAC;gBAAI,OAAO;oBAAC,SAAS;oBAAQ,KAAK;oBAAI,gBAAgB;oBAAU,UAAU;gBAAM;;kCAC/E,qKAAC,qHAAA,CAAA,UAAI;wBAAC,MAAK;wBAAS,OAAO;4BAAE,gBAAgB;wBAAO;kCAClD,cAAA,qKAAC;4BAAO,OAAO;gCACb,YAAY;gCACZ,OAAO;gCACP,QAAQ;gCACR,cAAc;gCACd,SAAS;gCACT,UAAU;gCACV,YAAY;gCACZ,QAAQ;gCACR,YAAY;gCACZ,gBAAgB;4BAClB;sCAAG;;;;;;;;;;;kCAIL,qKAAC,qHAAA,CAAA,UAAI;wBAAC,MAAK;wBAAY,OAAO;4BAAE,gBAAgB;wBAAO;kCACrD,cAAA,qKAAC;4BAAO,OAAO;gCACb,YAAY;gCACZ,OAAO,MAAM,MAAM;gCACnB,QAAQ;gCACR,cAAc;gCACd,SAAS;gCACT,UAAU;gCACV,YAAY;gCACZ,QAAQ;gCACR,YAAY;4BACd;sCAAG;;;;;;;;;;;;;;;;;;;;;;;AAOb","debugId":null}},
    {"offset": {"line": 383, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Documents/GitHub/legal_analysis-nextjs/frontend/pages/index.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport Link from 'next/link';\nimport { saveApiKey, loadApiKey, addCase, getAllCases, updateCase, clearAllCases, LegalCase } from '../utils/db';\nimport { set as idbSet } from 'idb-keyval';\nimport { isMobile } from '../utils/crypto';\nimport { useTheme } from '../contexts/ThemeContext';\nimport WelcomeHeader from '../components/WelcomeHeader';\nimport AuthCallToAction from '../components/AuthCallToAction';\n\n// تعريف نوع BeforeInstallPromptEvent\ninterface BeforeInstallPromptEvent extends Event {\n  prompt(): Promise<{ outcome: 'accepted' | 'dismissed' }>;\n  userChoice: Promise<{ outcome: 'accepted' | 'dismissed' }>;\n}\n\nconst STAGES = [\n  'المرحلة الأولى: تحديد المشكلة القانونية',\n  'المرحلة الثانية: جمع المعلومات والوثائق',\n  'المرحلة الثالثة: تحليل النصوص القانونية',\n  'المرحلة الرابعة: تحديد القواعد القانونية المنطبقة',\n  'المرحلة الخامسة: تحليل السوابق القضائية',\n  'المرحلة السادسة: تحليل الفقه القانوني',\n  'المرحلة السابعة: تحليل الظروف الواقعية',\n  'المرحلة الثامنة: تحديد الحلول القانونية الممكنة',\n  'المرحلة التاسعة: تقييم الحلول القانونية',\n  'المرحلة العاشرة: اختيار الحل الأمثل',\n  'المرحلة الحادية عشرة: صياغة الحل القانوني',\n  'المرحلة الثانية عشرة: تقديم التوصيات',\n];\n\nconst FINAL_STAGE = 'المرحلة الثالثة عشرة: العريضة القانونية النهائية';\nconst ALL_STAGES = [...STAGES, FINAL_STAGE];\n\ntype PartyRole = 'المشتكي' | 'المشتكى عليه' | 'المدعي' | 'المدعى عليه';\n\nexport default function Home() {\n  const { theme, darkMode } = useTheme();\n  const [apiKey, setApiKey] = useState('');\n  const [caseNameInput, setCaseNameInput] = useState('');\n  const [showInstallPrompt, setShowInstallPrompt] = useState(false);\n  const [deferredPrompt, setDeferredPrompt] = useState<BeforeInstallPromptEvent | null>(null);\n  const [activeTab, setActiveTab] = useState<'input' | 'stages' | 'results'>('input');\n  const [mounted, setMounted] = useState(false);\n  const [isSmallScreen, setIsSmallScreen] = useState(false);\n  const prevApiKey = useRef(\"\");\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [user, setUser] = useState<{username: string; role: string; officeId: string} | null>(null);\n\n  // لكل مرحلة: نص، نتيجة، تحميل، خطأ، إظهار نتيجة\n  const [mainText, setMainText] = useState('');\n  const [stageResults, setStageResults] = useState<(string|null)[]>(() => Array(ALL_STAGES.length).fill(null));\n  const [stageLoading, setStageLoading] = useState<boolean[]>(() => Array(ALL_STAGES.length).fill(false));\n  const [stageErrors, setStageErrors] = useState<(string|null)[]>(() => Array(ALL_STAGES.length).fill(null));\n  const [stageShowResult, setStageShowResult] = useState<boolean[]>(() => Array(ALL_STAGES.length).fill(false));\n  const [partyRole, setPartyRole] = useState<PartyRole | ''>('');\n\n  useEffect(() => {\n    setMounted(true);\n    \n    // التحقق من حالة تسجيل الدخول\n    const userData = localStorage.getItem('legal_user');\n    const token = localStorage.getItem('legal_token') || sessionStorage.getItem('legal_token');\n    \n    if (userData && token) {\n      try {\n        const parsedUser = JSON.parse(userData);\n        setUser(parsedUser);\n        setIsAuthenticated(true);\n      } catch (error) {\n        console.error('Error parsing user data:', error);\n        // مسح البيانات التالفة\n        localStorage.removeItem('legal_user');\n        localStorage.removeItem('legal_token');\n        sessionStorage.removeItem('legal_token');\n      }\n    }\n\n    // تحميل مفتاح API من قاعدة البيانات عند بدء التشغيل\n    loadApiKey().then(val => {\n      if (val) setApiKey(val);\n    });\n\n    // معالجة تثبيت التطبيق كتطبيق أيقونة\n    const handleBeforeInstallPrompt = (e: Event) => {\n      e.preventDefault();\n      setDeferredPrompt(e as BeforeInstallPromptEvent);\n      setShowInstallPrompt(true);\n    };\n\n    window.addEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\n\n    // التحقق من وجود التطبيق مثبت\n    if (window.matchMedia('(display-mode: standalone)').matches) {\n      setShowInstallPrompt(false);\n    }\n\n    // مراقبة حجم الشاشة\n    const checkScreenSize = () => {\n      setIsSmallScreen(window.innerWidth <= 768);\n    };\n    checkScreenSize();\n    window.addEventListener('resize', checkScreenSize);\n\n    return () => {\n      window.removeEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\n      window.removeEventListener('resize', checkScreenSize);\n    };\n  }, []);\n\n  useEffect(() => {\n    // حفظ مفتاح API في قاعدة البيانات عند تغييره\n    if (apiKey) saveApiKey(apiKey);\n  }, [apiKey]);\n\n  // حفظ apiKey في Blob Storage عند تغييره\n  useEffect(() => {\n    if (apiKey && apiKey !== prevApiKey.current) {\n      prevApiKey.current = apiKey;\n    }\n  }, [apiKey]);\n\n  // دالة تثبيت التطبيق\n  const handleInstallApp = async () => {\n    if (deferredPrompt) {\n      deferredPrompt.prompt();\n      const { outcome } = await deferredPrompt.userChoice;\n      if (outcome === 'accepted') {\n        setShowInstallPrompt(false);\n        setDeferredPrompt(null);\n      }\n    }\n  };\n\n  // دالة تسجيل الخروج\n  const handleLogout = () => {\n    localStorage.removeItem('legal_user');\n    localStorage.removeItem('legal_token');\n    sessionStorage.removeItem('legal_token');\n    setIsAuthenticated(false);\n    setUser(null);\n    window.location.reload();\n  };\n\n  // دالة بدء قضية جديدة\n  const handleNewCase = () => {\n    // مسح جميع البيانات الحالية\n    setMainText('');\n    setCaseNameInput('');\n    setStageResults(Array(ALL_STAGES.length).fill(null));\n    setStageLoading(Array(ALL_STAGES.length).fill(false));\n    setStageErrors(Array(ALL_STAGES.length).fill(null));\n    setStageShowResult(Array(ALL_STAGES.length).fill(false));\n    setPartyRole('');\n    setActiveTab('input');\n  };\n\n  // دالة تحليل مرحلة واحدة\n  const handleAnalyzeStage = async (idx: number) => {\n    // إذا كانت المرحلة الأخيرة (العريضة النهائية)\n    if (idx === ALL_STAGES.length - 1) {\n      setStageLoading(arr => arr.map((v, i) => i === idx ? true : v));\n      setStageErrors(arr => arr.map((v, i) => i === idx ? null : v));\n      setStageResults(arr => arr.map((v, i) => i === idx ? null : v));\n      setStageShowResult(arr => arr.map((v, i) => i === idx ? false : v));\n      if (!apiKey) {\n        setStageErrors(arr => arr.map((v, i) => i === idx ? 'يرجى إعداد مفتاح Gemini API من صفحة الإعدادات أولاً.' : v));\n        setStageLoading(arr => arr.map((v, i) => i === idx ? false : v));\n        return;\n      }\n      const summaries = stageResults.slice(0, idx).filter(r => !!r);\n      if (summaries.length === 0) {\n        setStageErrors(arr => arr.map((v, i) => i === idx ? 'يرجى تحليل المراحل أولاً قبل توليد العريضة النهائية.' : v));\n        setStageLoading(arr => arr.map((v, i) => i === idx ? false : v));\n        return;\n      }\n      try {\n        const res = await fetch('/api/analyze', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ text: mainText, stageIndex: -1, apiKey, previousSummaries: summaries, finalPetition: true, partyRole: partyRole || undefined }),\n        });\n        const data = await res.json();\n        if (res.ok) {\n          setStageResults(arr => arr.map((v, i) => i === idx ? data.analysis : v));\n          setTimeout(() => setStageShowResult(arr => arr.map((v, i) => i === idx ? true : v)), 100);\n        } else {\n          setStageErrors(arr => arr.map((v, i) => i === idx ? (data.error || 'حدث خطأ أثناء توليد العريضة النهائية') : v));\n        }\n      } catch {\n        setStageErrors(arr => arr.map((v, i) => i === idx ? 'تعذر الاتصال بالخادم' : v));\n      } finally {\n        setStageLoading(arr => arr.map((v, i) => i === idx ? false : v));\n      }\n      return;\n    }\n    setStageLoading(arr => arr.map((v, i) => i === idx ? true : v));\n    setStageErrors(arr => arr.map((v, i) => i === idx ? null : v));\n    setStageResults(arr => arr.map((v, i) => i === idx ? null : v));\n    setStageShowResult(arr => arr.map((v, i) => i === idx ? false : v));\n    if (!apiKey) {\n      setStageErrors(arr => arr.map((v, i) => i === idx ? 'يرجى إعداد مفتاح Gemini API من صفحة الإعدادات أولاً.' : v));\n      setStageLoading(arr => arr.map((v, i) => i === idx ? false : v));\n      return;\n    }\n    const text = mainText;\n    if (!text.trim()) {\n      setStageErrors(arr => arr.map((v, i) => i === idx ? 'يرجى إدخال تفاصيل القضية.' : v));\n      setStageLoading(arr => arr.map((v, i) => i === idx ? false : v));\n      return;\n    }\n    // جمع ملخصات المراحل السابقة (النتائج غير الفارغة فقط)\n    let previousSummaries = stageResults.slice(0, idx).filter(r => !!r);\n    // حدود الطول (تقريبي: 8000 tokens ≈ 24,000 حرف)\n    const MAX_CHARS = 24000;\n    let totalLength = previousSummaries.reduce((acc, cur) => acc + (cur?.length || 0), 0);\n    // إذا تجاوز الطول، احذف أقدم النتائج حتى لا يتجاوز الحد\n    while (totalLength > MAX_CHARS && previousSummaries.length > 1) {\n      previousSummaries = previousSummaries.slice(1);\n      totalLength = previousSummaries.reduce((acc, cur) => acc + (cur?.length || 0), 0);\n    }\n    try {\n      const res = await fetch('/api/analyze', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ text, stageIndex: idx, apiKey, previousSummaries, partyRole: partyRole || undefined }),\n      });\n      const data = await res.json();\n      if (res.ok) {\n        setStageResults(arr => arr.map((v, i) => i === idx ? data.analysis : v));\n        setTimeout(() => setStageShowResult(arr => arr.map((v, i) => i === idx ? true : v)), 100);\n        // حفظ التحليل ضمن نفس القضية إن وُجدت، وإلا إنشاؤها\n        const caseName = caseNameInput.trim() ? caseNameInput.trim() : `قضية بدون اسم - ${Date.now()}`;\n        const newStage = {\n          id: `${idx}-${btoa(unescape(encodeURIComponent(text))).slice(0,8)}-${Date.now()}`,\n          stageIndex: idx,\n          stage: ALL_STAGES[idx],\n          input: text,\n          output: data.analysis,\n          date: new Date().toISOString(),\n        };\n        const allCases: LegalCase[] = await getAllCases();\n        const existing = allCases.find((c: LegalCase) => c.name === caseName);\n        if (existing) {\n          existing.stages.push(newStage);\n          await updateCase(existing);\n        } else {\n        const newCaseId = `${caseName}-${Date.now()}-${Math.random().toString(36).slice(2,8)}`;\n        await addCase({\n          id: newCaseId,\n          name: caseName,\n          createdAt: newStage.date,\n          stages: [newStage],\n        });\n        }\n      } else {\n        if (data.error && data.error.includes('429')) {\n          setStageErrors(arr => arr.map((v, i) => i === idx ? 'لقد تجاوزت الحد المسموح به لعدد الطلبات على خدمة Gemini API. يرجى الانتظار دقيقة ثم إعادة المحاولة. إذا تكررت المشكلة، استخدم مفتاح API آخر أو راجع إعدادات حسابك في Google AI Studio.' : v));\n        } else {\n          setStageErrors(arr => arr.map((v, i) => i === idx ? (data.error || 'حدث خطأ أثناء التحليل') : v));\n        }\n      }\n    } catch {\n      setStageErrors(arr => arr.map((v, i) => i === idx ? 'تعذر الاتصال بالخادم' : v));\n    } finally {\n      setStageLoading(arr => arr.map((v, i) => i === idx ? false : v));\n    }\n  };\n\n  if (!mounted) {\n    return null; // تجنب hydration mismatch\n  }\n\n  return (\n    <>\n      <div style={{\n        fontFamily: 'Tajawal, Arial, sans-serif',\n        direction: 'rtl',\n        minHeight: '100vh',\n        background: theme.background,\n        color: theme.text,\n        padding: 0,\n        margin: 0,\n        transition: 'background 0.4s',\n      }}>\n        <main style={{\n          maxWidth: 800,\n          width: '100%',\n          margin: '0 auto',\n          padding: isMobile() ? '1rem 0.5rem' : '2rem 1rem',\n        }}>\n          {/* شريط الترحيب للمستخدمين المسجلين */}\n          {isAuthenticated && user && (\n            <WelcomeHeader user={user} onLogout={handleLogout} />\n          )}\n\n          {/* تنبيه إعداد المفتاح عند الحاجة */}\n          {!apiKey && isAuthenticated && (\n            <div style={{\n              background: '#fffbe6',\n              color: '#b7791f',\n              border: '1px solid #f6ad55',\n              borderRadius: 12,\n              padding: '12px 16px',\n              marginBottom: 16,\n              boxShadow: '0 1px 6px #b7791f22',\n              fontWeight: 700,\n              textAlign: 'center'\n            }}>\n              لم يتم إعداد مفتاح Gemini API بعد. انتقل إلى <Link href=\"/settings\" style={{color: theme.accent, textDecoration:'underline'}}>الإعدادات</Link> لإعداده.\n            </div>\n          )}\n\n          {/* شريط إجراءات الصفحة - للمستخدمين المسجلين فقط */}\n          {isAuthenticated ? (\n            <div style={{display:'flex', gap:12, flexWrap:'wrap', justifyContent:'center', marginBottom:16}}>\n              <button\n                onClick={handleNewCase}\n                style={{\n                  background: 'rgba(99, 102, 241, 0.1)', color: theme.accent2, border: `1px solid ${theme.accent2}`, borderRadius: 8,\n                  padding: isSmallScreen ? '8px 16px' : '6px 14px', fontWeight: 700, fontSize: isSmallScreen ? 14 : 16,\n                  cursor: 'pointer', boxShadow: `0 1px 4px ${theme.shadow}`, letterSpacing: 1, transition: 'all 0.2s',\n                  width: 'auto',\n                }}\n              >\n                🆕 قضية جديدة\n              </button>\n              {showInstallPrompt && (\n                <button\n                  onClick={handleInstallApp}\n                  style={{\n                    background: 'rgba(16, 185, 129, 0.1)', color: '#0f766e', border: '1px solid #99f6e4', borderRadius: 8,\n                    padding: isSmallScreen ? '8px 16px' : '6px 14px', fontWeight: 700, fontSize: isSmallScreen ? 14 : 16,\n                    cursor: 'pointer', boxShadow: '0 1px 4px #0002', letterSpacing: 1, transition: 'all 0.2s',\n                    width: 'auto'\n                  }}\n                >\n                  📱 تثبيت التطبيق\n                </button>\n              )}\n            </div>\n          ) : (\n            /* دعوة للعمل للمستخدمين غير المسجلين */\n            <AuthCallToAction />\n          )}\n\n          {/* نظام التبويبات - للمستخدمين المسجلين فقط */}\n          {isAuthenticated ? (\n            <>\n              <div style={{\n                background: theme.card,\n                borderRadius: 16,\n                boxShadow: `0 4px 20px ${theme.shadow}`,\n                marginBottom: 24,\n                border: `1.5px solid ${theme.border}`,\n                overflow: 'hidden',\n              }}>\n                <div style={{\n                  display: 'flex',\n                  background: darkMode ? '#2a2d3e' : '#f8fafc',\n                  borderBottom: `1px solid ${theme.border}`,\n                }}>\n                  {[\n                    { id: 'input', label: '📝 إدخال البيانات', icon: '✍️' },\n                    { id: 'stages', label: '🔍 مراحل التحليل', icon: '⚖️' },\n                    { id: 'results', label: '📊 النتائج', icon: '📈' }\n                  ].map((tab) => (\n                    <button\n                      key={tab.id}\n                      onClick={() => setActiveTab(tab.id as 'input' | 'stages' | 'results')}\n                      style={{\n                        flex: 1,\n                        padding: isMobile() ? '12px 8px' : '16px 12px',\n                        background: activeTab === tab.id ? theme.accent : 'transparent',\n                        color: activeTab === tab.id ? '#fff' : theme.text,\n                        border: 'none',\n                        cursor: 'pointer',\n                        fontSize: isMobile() ? 14 : 16,\n                        fontWeight: 600,\n                        transition: 'all 0.3s ease',\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        gap: 8,\n                      }}\n                    >\n                      <span>{tab.icon}</span>\n                      <span style={{ display: isMobile() ? 'none' : 'inline' }}>{tab.label}</span>\n                    </button>\n                  ))}\n                </div>\n              </div>\n\n              {/* محتوى التبويبات */}\n              {activeTab === 'input' && (\n                <>\n                  {/* مربع نص واحد لتفاصيل القضية */}\n                  <div style={{\n                    background: theme.card,\n                    borderRadius: 14,\n                    boxShadow: `0 2px 12px ${theme.shadow}`,\n                    padding: isMobile() ? 16 : 24,\n                    marginBottom: 24,\n                    border: `1.5px solid ${theme.border}`,\n                  }}>\n                    {/* مربع إدخال اسم القضية في رأس مربع التفاصيل */}\n                    <div style={{ marginBottom: 16 }}>\n                      <div style={{display:'flex', alignItems:'center', gap:8, marginBottom:12}}>\n                        <span style={{fontSize:20}}>📛</span>\n                        <label style={{ fontWeight: 700, color: theme.accent2, fontSize: 16 }}>اسم القضية:</label>\n                      </div>\n                      <input\n                        type=\"text\"\n                        value={caseNameInput}\n                        onChange={e => setCaseNameInput(e.target.value)}\n                        placeholder=\"أدخل اسم القضية (مثال: قضية إيجار 2024)\"\n                        style={{ \n                          width: '100%', \n                          borderRadius: 12, \n                          border: `2px solid ${theme.input}`, \n                          padding: isMobile() ? 12 : 16, \n                          fontSize: isMobile() ? 16 : 18, \n                          marginBottom: 0, \n                          outline: 'none', \n                          boxShadow: `0 2px 8px ${theme.shadow}`, \n                          background: darkMode ? '#181a2a' : '#fff', \n                          color: theme.text, \n                          transition: 'all 0.3s ease',\n                          fontFamily: 'Tajawal, Arial, sans-serif'\n                        }}\n                        required\n                      />\n                    </div>\n                    \n                    <div style={{display:'flex', alignItems:'center', gap:8, marginBottom:12}}>\n                      <span style={{fontSize:20}}>👥</span>\n                      <label style={{ fontWeight: 700, color: theme.accent, fontSize: 16 }}>صفة المستخدم في الدعوى:</label>\n                    </div>\n                    \n                    <div style={{\n                      background: theme.resultBg,\n                      borderRadius: 12,\n                      padding: 16,\n                      marginBottom: 16,\n                      border: `1px solid ${theme.input}`,\n                      fontSize: 14,\n                      lineHeight: 1.6,\n                      color: theme.text\n                    }}>\n                      <div style={{fontWeight: 700, color: theme.accent2, marginBottom: 8}}>📋 ملاحظة:</div>\n                      <div style={{marginBottom: 8}}><strong>المشتكي:</strong> <span style={{color: '#dc2626', fontWeight: 600}}>جزائية (جنائية)</span> - صاحب الشكوى ضد شخص ارتكب جريمة</div>\n                      <div style={{marginBottom: 8}}><strong>المشتكى عليه:</strong> <span style={{color: '#dc2626', fontWeight: 600}}>جزائية (جنائية)</span> - الشخص المتهم بارتكاب الجريمة في مرحلة التحقيق</div>\n                      <div style={{marginBottom: 8}}><strong>المدعي:</strong> <span style={{color: '#059669', fontWeight: 600}}>مدنية</span> - من يرفع دعوى للمطالبة بحق مادي أو معنوي</div>\n                      <div style={{marginBottom: 8}}><strong>المدعى عليه:</strong> <span style={{color: '#059669', fontWeight: 600}}>مدنية</span> - الطرف المخاصم الذي تُرفع عليه الدعوى</div>\n                      <div style={{fontSize: 13, opacity: 0.8, fontStyle: 'italic', marginTop: 12, paddingTop: 12, borderTop: `1px solid ${theme.border}`}}>اختر صفتك ليتخصص التحليل والعريضة وفق مصلحتك في الدعوى</div>\n                    </div>\n                    \n                    <div style={{ display:'flex', gap:8, flexWrap:'wrap', marginBottom: 16 }}>\n                      {(['المشتكي','المشتكى عليه','المدعي','المدعى عليه'] as PartyRole[]).map(role => (\n                        <button key={role}\n                          onClick={() => setPartyRole(role === partyRole ? '' : role)}\n                          style={{\n                            background: role === partyRole ? theme.accent : 'transparent',\n                            color: role === partyRole ? '#fff' : theme.text,\n                            border: `2px solid ${theme.input}`,\n                            borderRadius: 10,\n                            padding: '8px 12px',\n                            cursor: 'pointer',\n                            fontWeight: 700\n                          }}\n                        >{role}</button>\n                      ))}\n                    </div>\n                    \n                    <div style={{display:'flex', alignItems:'center', gap:8, marginBottom:12}}>\n                      <span style={{fontSize:20}}>📄</span>\n                      <label style={{ fontWeight: 700, color: theme.accent, fontSize: 16 }}>تفاصيل القضية:</label>\n                    </div>\n                    \n                    <textarea\n                      value={mainText}\n                      onChange={e => setMainText(e.target.value)}\n                      rows={6}\n                      style={{ \n                        width: '100%', \n                        borderRadius: 12, \n                        border: `2px solid ${theme.input}`, \n                        padding: isMobile() ? 12 : 16, \n                        fontSize: isMobile() ? 16 : 18, \n                        marginBottom: 0, \n                        resize: 'vertical', \n                        outline: 'none', \n                        boxShadow: `0 2px 8px ${theme.shadow}`, \n                        background: darkMode ? '#181a2a' : '#fff', \n                        color: theme.text, \n                        transition: 'all 0.3s ease',\n                        fontFamily: 'Tajawal, Arial, sans-serif',\n                        lineHeight: 1.6\n                      }}\n                      placeholder=\"أدخل تفاصيل القضية هنا...\"\n                      required\n                    />\n                  </div>\n\n                  {/* زر البدء السريع */}\n                  <div style={{\n                    background: `linear-gradient(135deg, ${theme.accent2} 0%, ${theme.accent} 100%)`,\n                    borderRadius: 16,\n                    padding: isMobile() ? 20 : 28,\n                    textAlign: 'center',\n                    boxShadow: `0 4px 20px ${theme.accent}33`,\n                    border: `1px solid ${theme.accent}`,\n                  }}>\n                    <div style={{fontSize: isMobile() ? 20 : 24, fontWeight: 800, color: '#fff', marginBottom: 12}}>\n                      🚀 جاهز للبدء؟\n                    </div>\n                    <div style={{fontSize: isMobile() ? 14 : 16, color: 'rgba(255,255,255,0.9)', marginBottom: 20, lineHeight: 1.6}}>\n                      بعد إدخال البيانات، انتقل إلى تبويب &quot;مراحل التحليل&quot; لبدء العملية\n                    </div>\n                    <button\n                      onClick={() => setActiveTab('stages')}\n                      style={{\n                        background: 'rgba(255,255,255,0.2)', \n                        color: '#fff', \n                        border: '2px solid rgba(255,255,255,0.3)', \n                        borderRadius: 12, \n                        padding: isMobile() ? '12px 24px' : '16px 32px', \n                        fontSize: isMobile() ? 16 : 18, \n                        fontWeight: 700, \n                        cursor: 'pointer', \n                        transition: 'all 0.3s ease',\n                        backdropFilter: 'blur(10px)',\n                      }}\n                    >\n                      ⚖️ الانتقال لمراحل التحليل\n                    </button>\n                  </div>\n                </>\n              )}\n\n              {/* محتوى التبويب الثاني: مراحل التحليل */}\n              {activeTab === 'stages' && (\n                <>\n                  {/* عرض جميع المراحل */}\n                  {ALL_STAGES.map((stage, idx) => (\n                    <div key={stage} style={{\n                      background: theme.card,\n                      borderRadius: 16,\n                      boxShadow: `0 4px 20px ${theme.shadow}`,\n                      padding: isMobile() ? 16 : 24,\n                      marginBottom: 24,\n                      border: `1.5px solid ${theme.border}`,\n                      transition: 'all 0.3s ease',\n                    }}>\n                      <div style={{ \n                        fontWeight: 800, \n                        color: theme.accent, \n                        fontSize: isMobile() ? 16 : 18, \n                        marginBottom: 16,\n                        display: 'flex',\n                        alignItems: 'center',\n                        gap: 8,\n                      }}>\n                        <span style={{fontSize: isMobile() ? 20 : 24}}>⚖️</span>\n                        {stage}\n                      </div>\n                      \n                      {/* ملخص التحليل السابق */}\n                      {idx > 0 && stageResults[idx-1] && (\n                        <div style={{\n                          background: theme.resultBg,\n                          borderRadius: 12,\n                          boxShadow: `0 2px 8px ${theme.shadow}`,\n                          padding: 16,\n                          marginBottom: 16,\n                          border: `1px solid ${theme.input}`,\n                          color: theme.text,\n                          fontSize: 15,\n                          opacity: 0.95,\n                        }}>\n                          <div style={{fontWeight: 700, color: theme.accent2, marginBottom: 8}}>📋 ملخص المرحلة السابقة:</div>\n                          <div style={{ whiteSpace: 'pre-line', marginTop: 4, lineHeight: 1.6 }}>{stageResults[idx-1]}</div>\n                        </div>\n                      )}\n                      \n                      {/* إذا كانت المرحلة الأخيرة، غير نص الزر */}\n                      <button\n                        type=\"button\"\n                        disabled={stageLoading[idx]}\n                        onClick={() => handleAnalyzeStage(idx)}\n                        style={{ \n                          width: '100%', \n                          background: `linear-gradient(135deg, ${theme.accent2} 0%, ${theme.accent} 100%)`, \n                          color: '#fff', \n                          border: 'none', \n                          borderRadius: 12, \n                          padding: isMobile() ? '14px 0' : '18px 0', \n                          fontSize: isMobile() ? 16 : 18, \n                          fontWeight: 800, \n                          cursor: stageLoading[idx] ? 'not-allowed' : 'pointer', \n                          marginTop: 8, \n                          boxShadow: `0 4px 16px ${theme.accent}33`, \n                          letterSpacing: 1, \n                          transition: 'all 0.3s ease', \n                          position:'relative',\n                          transform: stageLoading[idx] ? 'scale(0.98)' : 'scale(1)',\n                        }}\n                      >\n                        {stageLoading[idx] ? (\n                          <span style={{display:'inline-flex', alignItems:'center', gap:8}}>\n                            <span className=\"spinner\" style={{display:'inline-block', width:20, height:20, border:'3px solid #fff', borderTop:`3px solid ${theme.accent2}`, borderRadius:'50%', animation:'spin 1s linear infinite', verticalAlign:'middle'}}></span>\n                            {idx === ALL_STAGES.length - 1 ? '⏳ جاري توليد العريضة النهائية...' : '⏳ جاري التحليل...'}\n                          </span>\n                        ) : (\n                          idx === ALL_STAGES.length - 1 ? '📜 توليد العريضة القانونية النهائية' : `📜 تحليل ${stage}`\n                        )}\n                      </button>\n                      \n                      {stageErrors[idx] && (\n                        <div style={{ \n                          color: theme.errorText, \n                          background: theme.errorBg, \n                          borderRadius: 12, \n                          padding: 16, \n                          marginTop: 16, \n                          textAlign: 'center', \n                          fontWeight: 700, \n                          fontSize: 15, \n                          boxShadow: `0 2px 8px ${theme.errorText}22`,\n                          border: `1px solid ${theme.errorText}33`\n                        }}>\n                          ❌ {stageErrors[idx]}\n                        </div>\n                      )}\n                      \n                      {stageResults[idx] && (\n                        <div style={{\n                          background: theme.resultBg,\n                          borderRadius: 16,\n                          boxShadow: `0 4px 20px ${theme.shadow}`,\n                          padding: 20,\n                          marginTop: 20,\n                          border: `1.5px solid ${theme.input}`,\n                          color: theme.text,\n                          opacity: stageShowResult[idx] ? 1 : 0,\n                          transform: stageShowResult[idx] ? 'translateY(0)' : 'translateY(30px)',\n                          transition: 'all 0.7s ease',\n                        }}>\n                          <h3 style={{ color: theme.accent, marginBottom: 12, fontSize: 18, fontWeight: 800, letterSpacing: 1, display: 'flex', alignItems: 'center', gap: 8 }}>\n                            <span>🔍</span>\n                            نتيجة التحليل\n                          </h3>\n                          <div style={{ whiteSpace: 'pre-line', fontSize: 16, lineHeight: 1.8 }}>{stageResults[idx]}</div>\n                        </div>\n                      )}\n                    </div>\n                  ))}\n                </>\n              )}\n\n              {/* محتوى التبويب الثالث: النتائج */}\n              {activeTab === 'results' && (\n                <div style={{\n                  background: theme.card,\n                  borderRadius: 16,\n                  boxShadow: `0 4px 20px ${theme.shadow}`,\n                  padding: isMobile() ? 20 : 32,\n                  border: `1.5px solid ${theme.border}`,\n                }}>\n                  <div style={{fontSize: isMobile() ? 24 : 32, fontWeight: 900, color: theme.accent, marginBottom: 16}}>\n                    📊 ملخص النتائج\n                  </div>\n                  \n                  {/* عرض إحصائيات سريعة */}\n                  <div style={{\n                    display: 'grid',\n                    gridTemplateColumns: isMobile() ? '1fr' : 'repeat(3, 1fr)',\n                    gap: 16,\n                    marginBottom: 24,\n                  }}>\n                    <div style={{\n                      background: theme.resultBg,\n                      borderRadius: 12,\n                      padding: 16,\n                      border: `1px solid ${theme.border}`,\n                      textAlign: 'center',\n                    }}>\n                      <div style={{fontSize: 24, fontWeight: 800, color: theme.accent}}>\n                        {stageResults.filter(r => !!r).length}\n                      </div>\n                      <div style={{fontSize: 14, color: theme.text}}>مرحلة مكتملة</div>\n                    </div>\n                    <div style={{\n                      background: theme.resultBg,\n                      borderRadius: 12,\n                      padding: 16,\n                      border: `1px solid ${theme.border}`,\n                      textAlign: 'center',\n                    }}>\n                      <div style={{fontSize: 24, fontWeight: 800, color: theme.accent2}}>\n                        {ALL_STAGES.length - stageResults.filter(r => !!r).length}\n                      </div>\n                      <div style={{fontSize: 14, color: theme.text}}>مرحلة متبقية</div>\n                    </div>\n                    <div style={{\n                      background: theme.resultBg,\n                      borderRadius: 12,\n                      padding: 16,\n                      border: `1px solid ${theme.border}`,\n                      textAlign: 'center',\n                    }}>\n                      <div style={{fontSize: 24, fontWeight: 800, color: theme.accent}}>\n                        {Math.round((stageResults.filter(r => !!r).length / ALL_STAGES.length) * 100)}%\n                      </div>\n                      <div style={{fontSize: 14, color: theme.text}}>نسبة الإنجاز</div>\n                    </div>\n                  </div>\n\n                  {/* عرض النتائج الفعلية */}\n                  {stageResults.some(r => !!r) ? (\n                    <>\n                      <div style={{fontSize: isMobile() ? 16 : 18, color: theme.text, marginBottom: 24, lineHeight: 1.6, textAlign: 'center'}}>\n                        نتائج المراحل المكتملة\n                      </div>\n                      <div style={{\n                        display: 'grid',\n                        gridTemplateColumns: isMobile() ? '1fr' : 'repeat(2, 1fr)',\n                        gap: 16,\n                      }}>\n                        {stageResults.map((result, idx) => result && (\n                          <div key={idx} style={{\n                            background: theme.resultBg,\n                            borderRadius: 12,\n                            padding: 16,\n                            border: `1px solid ${theme.border}`,\n                            cursor: 'pointer',\n                            transition: 'all 0.3s ease',\n                          }}\n                          onClick={() => setActiveTab('stages')}\n                          title=\"انقر للانتقال إلى مراحل التحليل\"\n                          >\n                            <div style={{fontWeight: 700, color: theme.accent2, marginBottom: 8, fontSize: 14}}>\n                              {ALL_STAGES[idx]}\n                            </div>\n                            <div style={{fontSize: 13, color: theme.text, lineHeight: 1.5}}>\n                              {result.substring(0, 120)}...\n                            </div>\n                            <div style={{\n                              fontSize: 11,\n                              color: theme.accent,\n                              marginTop: 8,\n                              textAlign: 'center',\n                              fontWeight: 600\n                            }}>\n                              انقر لعرض النتيجة كاملة\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    </>\n                  ) : (\n                    <div style={{\n                      background: theme.resultBg,\n                      borderRadius: 12,\n                      padding: 32,\n                      border: `1px solid ${theme.border}`,\n                      textAlign: 'center',\n                      color: theme.text,\n                    }}>\n                      <div style={{fontSize: 48, marginBottom: 16}}>📝</div>\n                      <div style={{fontSize: 18, fontWeight: 700, marginBottom: 12}}>لا توجد نتائج بعد</div>\n                      <div style={{fontSize: 14, opacity: 0.8, marginBottom: 20}}>\n                        ابدأ بتحليل المراحل في تبويب &quot;مراحل التحليل&quot; لرؤية النتائج هنا\n                      </div>\n                      <button\n                        onClick={() => setActiveTab('stages')}\n                        style={{\n                          background: theme.accent,\n                          color: '#fff',\n                          border: 'none',\n                          borderRadius: 8,\n                          padding: '12px 24px',\n                          fontSize: 16,\n                          fontWeight: 700,\n                          cursor: 'pointer',\n                        }}\n                      >\n                        الانتقال لمراحل التحليل\n                      </button>\n                    </div>\n                  )}\n                </div>\n              )}\n            </>\n          ) : (\n            null\n          )}\n        </main>\n        \n        {/* Footer محسن */}\n        <footer style={{ \n          textAlign: 'center', \n          color: '#888', \n          marginTop: 48, \n          fontSize: 15,\n          background: theme.card,\n          borderRadius: 16,\n          padding: isMobile() ? 20 : 32,\n          boxShadow: `0 4px 20px ${theme.shadow}`,\n          border: `1px solid ${theme.border}`,\n          margin: '48px auto 0',\n          maxWidth: 800,\n          width: '90%',\n        }}>\n          <div style={{fontSize: 18, fontWeight: 700, color: theme.accent, marginBottom: 16}}>\n            &copy; {new Date().getFullYear()} منصة التحليل القانوني الذكي\n          </div>\n          <div style={{\n            marginTop: 18, \n            background: darkMode ? '#2a1a1a' : '#fffbe6', \n            color: darkMode ? '#ffb6b6' : '#b7791f', \n            borderRadius: 12, \n            padding: '16px 20px', \n            display: 'inline-block', \n            fontWeight: 700, \n            fontSize: 14, \n            boxShadow: `0 2px 8px ${darkMode ? '#ff6b6b22' : '#b7791f22'}`,\n            border: `1px solid ${darkMode ? '#ff6b6b33' : '#b7791f33'}`,\n            maxWidth: '90%',\n            lineHeight: 1.6\n          }}>\n            ⚠️ جميع بياناتك (القضايا والمفاتيح) تحفظ محليًا على جهازك فقط ولا يتم رفعها إلى أي خادم.\n            <button \n              onClick={async () => { \n                await clearAllCases(); \n                await idbSet('legal_dark_mode', '0'); \n                window.location.reload(); \n              }} \n              style={{\n                marginRight: 12, \n                background: '#ff6b6b', \n                color: '#fff', \n                border: 'none', \n                borderRadius: 8, \n                padding: '8px 18px', \n                fontWeight: 800, \n                fontSize: 14, \n                cursor: 'pointer', \n                boxShadow: '0 2px 8px #ff6b6b22', \n                marginLeft: 8,\n                transition: 'all 0.3s ease'\n              }}\n            >\n              🗑️ مسح كل البيانات\n            </button>\n          </div>\n        </footer>\n      </div>\n      <style>{`\n        @keyframes spin { 0% { transform: rotate(0deg);} 100% { transform: rotate(360deg);} }\n      `}</style>\n    </>\n  );\n} "],"names":[],"mappings":"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","debugId":null}}]
}