(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{3566:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var o=n(7876),r=n(4232),i=n(8230),a=n.n(i),l=n(6670),s=n(9703),d=n(1965),c=n(9799);function p(e){let{user:t,onLogout:n}=e,{theme:r}=(0,c.D)();return(0,o.jsxs)("div",{style:{background:"linear-gradient(135deg, ".concat(r.accent," 0%, ").concat(r.accent2," 100%)"),borderRadius:16,padding:"20px",marginBottom:24,boxShadow:"0 4px 20px ".concat(r.accent,"33"),border:"1px solid ".concat(r.accent),color:"#fff",textAlign:"center"},children:[(0,o.jsxs)("div",{style:{fontSize:24,fontWeight:800,marginBottom:8},children:["\uD83C\uDF89 مرحباً بك، ",t.username,"!"]}),(0,o.jsxs)("div",{style:{fontSize:16,opacity:.9,marginBottom:16},children:["admin"===t.role?"مدير مكتب":"موظف"," في ",t.officeId]}),(0,o.jsxs)("div",{style:{display:"flex",gap:12,justifyContent:"center",flexWrap:"wrap"},children:[(0,o.jsx)(a(),{href:"/dashboard",style:{textDecoration:"none"},children:(0,o.jsx)("button",{style:{background:"rgba(255,255,255,0.2)",color:"#fff",border:"2px solid rgba(255,255,255,0.3)",borderRadius:8,padding:"8px 16px",fontSize:14,fontWeight:600,cursor:"pointer",transition:"all 0.3s ease"},children:"\uD83C\uDFE2 لوحة التحكم"})}),(0,o.jsx)("button",{onClick:n,style:{background:"rgba(239,68,68,0.2)",color:"#fff",border:"2px solid rgba(239,68,68,0.3)",borderRadius:8,padding:"8px 16px",fontSize:14,fontWeight:600,cursor:"pointer",transition:"all 0.3s ease"},children:"\uD83D\uDEAA تسجيل الخروج"})]})]})}function g(){let{theme:e}=(0,c.D)();return(0,o.jsxs)("div",{style:{background:"linear-gradient(135deg, ".concat(e.accent," 0%, ").concat(e.accent2," 100%)"),borderRadius:16,padding:"32px",marginBottom:24,boxShadow:"0 4px 20px ".concat(e.accent,"33"),border:"1px solid ".concat(e.accent),textAlign:"center",color:"#fff"},children:[(0,o.jsx)("div",{style:{fontSize:28,fontWeight:800,marginBottom:16},children:"\uD83D\uDE80 منصة التحليل القانوني الذكي"}),(0,o.jsxs)("div",{style:{fontSize:18,opacity:.9,marginBottom:24,lineHeight:1.6},children:["انضم إلينا واحصل على تحليل قانوني متقدم في 12 مرحلة",(0,o.jsx)("br",{}),"مع عريضة قانونية نهائية جاهزة للمحكمة"]}),(0,o.jsxs)("div",{style:{display:"flex",gap:16,justifyContent:"center",flexWrap:"wrap"},children:[(0,o.jsx)(a(),{href:"/login",style:{textDecoration:"none"},children:(0,o.jsx)("button",{style:{background:"rgba(255,255,255,0.2)",color:"#fff",border:"2px solid rgba(255,255,255,0.3)",borderRadius:12,padding:"16px 32px",fontSize:18,fontWeight:700,cursor:"pointer",transition:"all 0.3s ease",backdropFilter:"blur(10px)"},children:"\uD83D\uDD10 تسجيل الدخول"})}),(0,o.jsx)(a(),{href:"/register",style:{textDecoration:"none"},children:(0,o.jsx)("button",{style:{background:"rgba(255,255,255,0.9)",color:e.accent,border:"2px solid rgba(255,255,255,0.3)",borderRadius:12,padding:"16px 32px",fontSize:18,fontWeight:700,cursor:"pointer",transition:"all 0.3s ease"},children:"\uD83D\uDE80 إنشاء حساب جديد"})})]})]})}let x=["المرحلة الأولى: تحديد المشكلة القانونية","المرحلة الثانية: جمع المعلومات والوثائق","المرحلة الثالثة: تحليل النصوص القانونية","المرحلة الرابعة: تحديد القواعد القانونية المنطبقة","المرحلة الخامسة: تحليل السوابق القضائية","المرحلة السادسة: تحليل الفقه القانوني","المرحلة السابعة: تحليل الظروف الواقعية","المرحلة الثامنة: تحديد الحلول القانونية الممكنة","المرحلة التاسعة: تقييم الحلول القانونية","المرحلة العاشرة: اختيار الحل الأمثل","المرحلة الحادية عشرة: صياغة الحل القانوني","المرحلة الثانية عشرة: تقديم التوصيات","المرحلة الثالثة عشرة: العريضة القانونية النهائية"];function u(){let{theme:e,darkMode:t}=(0,c.D)(),[n,i]=(0,r.useState)(""),[u,f]=(0,r.useState)(""),[h,m]=(0,r.useState)(!1),[b,y]=(0,r.useState)(null),[j,S]=(0,r.useState)("input"),[w,v]=(0,r.useState)(!1),[D,k]=(0,r.useState)(!1),z=(0,r.useRef)(""),[B,W]=(0,r.useState)(!1),[C,F]=(0,r.useState)(null),[R,A]=(0,r.useState)(""),[I,_]=(0,r.useState)(()=>Array(x.length).fill(null)),[T,E]=(0,r.useState)(()=>Array(x.length).fill(!1)),[P,H]=(0,r.useState)(()=>Array(x.length).fill(null)),[L,N]=(0,r.useState)(()=>Array(x.length).fill(!1)),[O,G]=(0,r.useState)("");(0,r.useEffect)(()=>{v(!0);let e=localStorage.getItem("legal_user"),t=localStorage.getItem("legal_token")||sessionStorage.getItem("legal_token");if(e&&t)try{let t=JSON.parse(e);F(t),W(!0)}catch(e){console.error("Error parsing user data:",e),localStorage.removeItem("legal_user"),localStorage.removeItem("legal_token"),sessionStorage.removeItem("legal_token")}(0,l.WL)().then(e=>{e&&i(e)});let n=e=>{e.preventDefault(),y(e),m(!0)};window.addEventListener("beforeinstallprompt",n),window.matchMedia("(display-mode: standalone)").matches&&m(!1);let o=()=>{k(window.innerWidth<=768)};return o(),window.addEventListener("resize",o),()=>{window.removeEventListener("beforeinstallprompt",n),window.removeEventListener("resize",o)}},[]),(0,r.useEffect)(()=>{n&&(0,l.Pc)(n)},[n]),(0,r.useEffect)(()=>{n&&n!==z.current&&(z.current=n)},[n]);let J=async()=>{if(b){b.prompt();let{outcome:e}=await b.userChoice;"accepted"===e&&(m(!1),y(null))}},M=async e=>{if(e===x.length-1){if(E(t=>t.map((t,n)=>n===e||t)),H(t=>t.map((t,n)=>n===e?null:t)),_(t=>t.map((t,n)=>n===e?null:t)),N(t=>t.map((t,n)=>n!==e&&t)),!n){H(t=>t.map((t,n)=>n===e?"يرجى إعداد مفتاح Gemini API من صفحة الإعدادات أولاً.":t)),E(t=>t.map((t,n)=>n!==e&&t));return}let t=I.slice(0,e).filter(e=>!!e);if(0===t.length){H(t=>t.map((t,n)=>n===e?"يرجى تحليل المراحل أولاً قبل توليد العريضة النهائية.":t)),E(t=>t.map((t,n)=>n!==e&&t));return}try{let o=await fetch("/api/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:R,stageIndex:-1,apiKey:n,previousSummaries:t,finalPetition:!0,partyRole:O||void 0})}),r=await o.json();o.ok?(_(t=>t.map((t,n)=>n===e?r.analysis:t)),setTimeout(()=>N(t=>t.map((t,n)=>n===e||t)),100)):H(t=>t.map((t,n)=>n===e?r.error||"حدث خطأ أثناء توليد العريضة النهائية":t))}catch(t){H(t=>t.map((t,n)=>n===e?"تعذر الاتصال بالخادم":t))}finally{E(t=>t.map((t,n)=>n!==e&&t))}return}if(E(t=>t.map((t,n)=>n===e||t)),H(t=>t.map((t,n)=>n===e?null:t)),_(t=>t.map((t,n)=>n===e?null:t)),N(t=>t.map((t,n)=>n!==e&&t)),!n){H(t=>t.map((t,n)=>n===e?"يرجى إعداد مفتاح Gemini API من صفحة الإعدادات أولاً.":t)),E(t=>t.map((t,n)=>n!==e&&t));return}if(!R.trim()){H(t=>t.map((t,n)=>n===e?"يرجى إدخال تفاصيل القضية.":t)),E(t=>t.map((t,n)=>n!==e&&t));return}let t=I.slice(0,e).filter(e=>!!e),o=t.reduce((e,t)=>e+((null==t?void 0:t.length)||0),0);for(;o>24e3&&t.length>1;)o=(t=t.slice(1)).reduce((e,t)=>e+((null==t?void 0:t.length)||0),0);try{let o=await fetch("/api/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:R,stageIndex:e,apiKey:n,previousSummaries:t,partyRole:O||void 0})}),r=await o.json();if(o.ok){_(t=>t.map((t,n)=>n===e?r.analysis:t)),setTimeout(()=>N(t=>t.map((t,n)=>n===e||t)),100);let t=u.trim()?u.trim():"قضية بدون اسم - ".concat(Date.now()),n={id:"".concat(e,"-").concat(btoa(unescape(encodeURIComponent(R))).slice(0,8),"-").concat(Date.now()),stageIndex:e,stage:x[e],input:R,output:r.analysis,date:new Date().toISOString()},o=(await (0,l.x1)()).find(e=>e.name===t);if(o)o.stages.push(n),await (0,l.Gm)(o);else{let e="".concat(t,"-").concat(Date.now(),"-").concat(Math.random().toString(36).slice(2,8));await (0,l.qK)({id:e,name:t,createdAt:n.date,stages:[n]})}}else r.error&&r.error.includes("429")?H(t=>t.map((t,n)=>n===e?"لقد تجاوزت الحد المسموح به لعدد الطلبات على خدمة Gemini API. يرجى الانتظار دقيقة ثم إعادة المحاولة. إذا تكررت المشكلة، استخدم مفتاح API آخر أو راجع إعدادات حسابك في Google AI Studio.":t)):H(t=>t.map((t,n)=>n===e?r.error||"حدث خطأ أثناء التحليل":t))}catch(t){H(t=>t.map((t,n)=>n===e?"تعذر الاتصال بالخادم":t))}finally{E(t=>t.map((t,n)=>n!==e&&t))}};return w?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{style:{fontFamily:"Tajawal, Arial, sans-serif",direction:"rtl",minHeight:"100vh",background:e.background,color:e.text,padding:0,margin:0,transition:"background 0.4s"},children:[(0,o.jsxs)("main",{style:{maxWidth:800,width:"100%",margin:"0 auto",padding:(0,d.Fr)()?"1rem 0.5rem":"2rem 1rem"},children:[B&&C&&(0,o.jsx)(p,{user:C,onLogout:()=>{localStorage.removeItem("legal_user"),localStorage.removeItem("legal_token"),sessionStorage.removeItem("legal_token"),W(!1),F(null),window.location.reload()}}),!n&&B&&(0,o.jsxs)("div",{style:{background:"#fffbe6",color:"#b7791f",border:"1px solid #f6ad55",borderRadius:12,padding:"12px 16px",marginBottom:16,boxShadow:"0 1px 6px #b7791f22",fontWeight:700,textAlign:"center"},children:["لم يتم إعداد مفتاح Gemini API بعد. انتقل إلى ",(0,o.jsx)(a(),{href:"/settings",style:{color:e.accent,textDecoration:"underline"},children:"الإعدادات"})," لإعداده."]}),B?(0,o.jsxs)("div",{style:{display:"flex",gap:12,flexWrap:"wrap",justifyContent:"center",marginBottom:16},children:[(0,o.jsx)("button",{onClick:()=>{A(""),f(""),_(Array(x.length).fill(null)),E(Array(x.length).fill(!1)),H(Array(x.length).fill(null)),N(Array(x.length).fill(!1)),G(""),S("input")},style:{background:"rgba(99, 102, 241, 0.1)",color:e.accent2,border:"1px solid ".concat(e.accent2),borderRadius:8,padding:D?"8px 16px":"6px 14px",fontWeight:700,fontSize:D?14:16,cursor:"pointer",boxShadow:"0 1px 4px ".concat(e.shadow),letterSpacing:1,transition:"all 0.2s",width:"auto"},children:"\uD83C\uDD95 قضية جديدة"}),h&&(0,o.jsx)("button",{onClick:J,style:{background:"rgba(16, 185, 129, 0.1)",color:"#0f766e",border:"1px solid #99f6e4",borderRadius:8,padding:D?"8px 16px":"6px 14px",fontWeight:700,fontSize:D?14:16,cursor:"pointer",boxShadow:"0 1px 4px #0002",letterSpacing:1,transition:"all 0.2s",width:"auto"},children:"\uD83D\uDCF1 تثبيت التطبيق"})]}):(0,o.jsx)(g,{}),B?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{style:{background:e.card,borderRadius:16,boxShadow:"0 4px 20px ".concat(e.shadow),marginBottom:24,border:"1.5px solid ".concat(e.border),overflow:"hidden"},children:(0,o.jsx)("div",{style:{display:"flex",background:t?"#2a2d3e":"#f8fafc",borderBottom:"1px solid ".concat(e.border)},children:[{id:"input",label:"\uD83D\uDCDD إدخال البيانات",icon:"✍️"},{id:"stages",label:"\uD83D\uDD0D مراحل التحليل",icon:"⚖️"},{id:"results",label:"\uD83D\uDCCA النتائج",icon:"\uD83D\uDCC8"}].map(t=>(0,o.jsxs)("button",{onClick:()=>S(t.id),style:{flex:1,padding:(0,d.Fr)()?"12px 8px":"16px 12px",background:j===t.id?e.accent:"transparent",color:j===t.id?"#fff":e.text,border:"none",cursor:"pointer",fontSize:(0,d.Fr)()?14:16,fontWeight:600,transition:"all 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:8},children:[(0,o.jsx)("span",{children:t.icon}),(0,o.jsx)("span",{style:{display:(0,d.Fr)()?"none":"inline"},children:t.label})]},t.id))})}),"input"===j&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{style:{background:e.card,borderRadius:14,boxShadow:"0 2px 12px ".concat(e.shadow),padding:(0,d.Fr)()?16:24,marginBottom:24,border:"1.5px solid ".concat(e.border)},children:[(0,o.jsxs)("div",{style:{marginBottom:16},children:[(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:12},children:[(0,o.jsx)("span",{style:{fontSize:20},children:"\uD83D\uDCDB"}),(0,o.jsx)("label",{style:{fontWeight:700,color:e.accent2,fontSize:16},children:"اسم القضية:"})]}),(0,o.jsx)("input",{type:"text",value:u,onChange:e=>f(e.target.value),placeholder:"أدخل اسم القضية (مثال: قضية إيجار 2024)",style:{width:"100%",borderRadius:12,border:"2px solid ".concat(e.input),padding:(0,d.Fr)()?12:16,fontSize:(0,d.Fr)()?16:18,marginBottom:0,outline:"none",boxShadow:"0 2px 8px ".concat(e.shadow),background:t?"#181a2a":"#fff",color:e.text,transition:"all 0.3s ease",fontFamily:"Tajawal, Arial, sans-serif"},required:!0})]}),(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:12},children:[(0,o.jsx)("span",{style:{fontSize:20},children:"\uD83D\uDC65"}),(0,o.jsx)("label",{style:{fontWeight:700,color:e.accent,fontSize:16},children:"صفة المستخدم في الدعوى:"})]}),(0,o.jsxs)("div",{style:{background:e.resultBg,borderRadius:12,padding:16,marginBottom:16,border:"1px solid ".concat(e.input),fontSize:14,lineHeight:1.6,color:e.text},children:[(0,o.jsx)("div",{style:{fontWeight:700,color:e.accent2,marginBottom:8},children:"\uD83D\uDCCB ملاحظة:"}),(0,o.jsxs)("div",{style:{marginBottom:8},children:[(0,o.jsx)("strong",{children:"المشتكي:"})," ",(0,o.jsx)("span",{style:{color:"#dc2626",fontWeight:600},children:"جزائية (جنائية)"})," - صاحب الشكوى ضد شخص ارتكب جريمة"]}),(0,o.jsxs)("div",{style:{marginBottom:8},children:[(0,o.jsx)("strong",{children:"المشتكى عليه:"})," ",(0,o.jsx)("span",{style:{color:"#dc2626",fontWeight:600},children:"جزائية (جنائية)"})," - الشخص المتهم بارتكاب الجريمة في مرحلة التحقيق"]}),(0,o.jsxs)("div",{style:{marginBottom:8},children:[(0,o.jsx)("strong",{children:"المدعي:"})," ",(0,o.jsx)("span",{style:{color:"#059669",fontWeight:600},children:"مدنية"})," - من يرفع دعوى للمطالبة بحق مادي أو معنوي"]}),(0,o.jsxs)("div",{style:{marginBottom:8},children:[(0,o.jsx)("strong",{children:"المدعى عليه:"})," ",(0,o.jsx)("span",{style:{color:"#059669",fontWeight:600},children:"مدنية"})," - الطرف المخاصم الذي تُرفع عليه الدعوى"]}),(0,o.jsx)("div",{style:{fontSize:13,opacity:.8,fontStyle:"italic",marginTop:12,paddingTop:12,borderTop:"1px solid ".concat(e.border)},children:"اختر صفتك ليتخصص التحليل والعريضة وفق مصلحتك في الدعوى"})]}),(0,o.jsx)("div",{style:{display:"flex",gap:8,flexWrap:"wrap",marginBottom:16},children:["المشتكي","المشتكى عليه","المدعي","المدعى عليه"].map(t=>(0,o.jsx)("button",{onClick:()=>G(t===O?"":t),style:{background:t===O?e.accent:"transparent",color:t===O?"#fff":e.text,border:"2px solid ".concat(e.input),borderRadius:10,padding:"8px 12px",cursor:"pointer",fontWeight:700},children:t},t))}),(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:12},children:[(0,o.jsx)("span",{style:{fontSize:20},children:"\uD83D\uDCC4"}),(0,o.jsx)("label",{style:{fontWeight:700,color:e.accent,fontSize:16},children:"تفاصيل القضية:"})]}),(0,o.jsx)("textarea",{value:R,onChange:e=>A(e.target.value),rows:6,style:{width:"100%",borderRadius:12,border:"2px solid ".concat(e.input),padding:(0,d.Fr)()?12:16,fontSize:(0,d.Fr)()?16:18,marginBottom:0,resize:"vertical",outline:"none",boxShadow:"0 2px 8px ".concat(e.shadow),background:t?"#181a2a":"#fff",color:e.text,transition:"all 0.3s ease",fontFamily:"Tajawal, Arial, sans-serif",lineHeight:1.6},placeholder:"أدخل تفاصيل القضية هنا...",required:!0})]}),(0,o.jsxs)("div",{style:{background:"linear-gradient(135deg, ".concat(e.accent2," 0%, ").concat(e.accent," 100%)"),borderRadius:16,padding:(0,d.Fr)()?20:28,textAlign:"center",boxShadow:"0 4px 20px ".concat(e.accent,"33"),border:"1px solid ".concat(e.accent)},children:[(0,o.jsx)("div",{style:{fontSize:(0,d.Fr)()?20:24,fontWeight:800,color:"#fff",marginBottom:12},children:"\uD83D\uDE80 جاهز للبدء؟"}),(0,o.jsx)("div",{style:{fontSize:(0,d.Fr)()?14:16,color:"rgba(255,255,255,0.9)",marginBottom:20,lineHeight:1.6},children:'بعد إدخال البيانات، انتقل إلى تبويب "مراحل التحليل" لبدء العملية'}),(0,o.jsx)("button",{onClick:()=>S("stages"),style:{background:"rgba(255,255,255,0.2)",color:"#fff",border:"2px solid rgba(255,255,255,0.3)",borderRadius:12,padding:(0,d.Fr)()?"12px 24px":"16px 32px",fontSize:(0,d.Fr)()?16:18,fontWeight:700,cursor:"pointer",transition:"all 0.3s ease",backdropFilter:"blur(10px)"},children:"⚖️ الانتقال لمراحل التحليل"})]})]}),"stages"===j&&(0,o.jsx)(o.Fragment,{children:x.map((t,n)=>(0,o.jsxs)("div",{style:{background:e.card,borderRadius:16,boxShadow:"0 4px 20px ".concat(e.shadow),padding:(0,d.Fr)()?16:24,marginBottom:24,border:"1.5px solid ".concat(e.border),transition:"all 0.3s ease"},children:[(0,o.jsxs)("div",{style:{fontWeight:800,color:e.accent,fontSize:(0,d.Fr)()?16:18,marginBottom:16,display:"flex",alignItems:"center",gap:8},children:[(0,o.jsx)("span",{style:{fontSize:(0,d.Fr)()?20:24},children:"⚖️"}),t]}),n>0&&I[n-1]&&(0,o.jsxs)("div",{style:{background:e.resultBg,borderRadius:12,boxShadow:"0 2px 8px ".concat(e.shadow),padding:16,marginBottom:16,border:"1px solid ".concat(e.input),color:e.text,fontSize:15,opacity:.95},children:[(0,o.jsx)("div",{style:{fontWeight:700,color:e.accent2,marginBottom:8},children:"\uD83D\uDCCB ملخص المرحلة السابقة:"}),(0,o.jsx)("div",{style:{whiteSpace:"pre-line",marginTop:4,lineHeight:1.6},children:I[n-1]})]}),(0,o.jsx)("button",{type:"button",disabled:T[n],onClick:()=>M(n),style:{width:"100%",background:"linear-gradient(135deg, ".concat(e.accent2," 0%, ").concat(e.accent," 100%)"),color:"#fff",border:"none",borderRadius:12,padding:(0,d.Fr)()?"14px 0":"18px 0",fontSize:(0,d.Fr)()?16:18,fontWeight:800,cursor:T[n]?"not-allowed":"pointer",marginTop:8,boxShadow:"0 4px 16px ".concat(e.accent,"33"),letterSpacing:1,transition:"all 0.3s ease",position:"relative",transform:T[n]?"scale(0.98)":"scale(1)"},children:T[n]?(0,o.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:8},children:[(0,o.jsx)("span",{className:"spinner",style:{display:"inline-block",width:20,height:20,border:"3px solid #fff",borderTop:"3px solid ".concat(e.accent2),borderRadius:"50%",animation:"spin 1s linear infinite",verticalAlign:"middle"}}),n===x.length-1?"⏳ جاري توليد العريضة النهائية...":"⏳ جاري التحليل..."]}):n===x.length-1?"\uD83D\uDCDC توليد العريضة القانونية النهائية":"\uD83D\uDCDC تحليل ".concat(t)}),P[n]&&(0,o.jsxs)("div",{style:{color:e.errorText,background:e.errorBg,borderRadius:12,padding:16,marginTop:16,textAlign:"center",fontWeight:700,fontSize:15,boxShadow:"0 2px 8px ".concat(e.errorText,"22"),border:"1px solid ".concat(e.errorText,"33")},children:["❌ ",P[n]]}),I[n]&&(0,o.jsxs)("div",{style:{background:e.resultBg,borderRadius:16,boxShadow:"0 4px 20px ".concat(e.shadow),padding:20,marginTop:20,border:"1.5px solid ".concat(e.input),color:e.text,opacity:+!!L[n],transform:L[n]?"translateY(0)":"translateY(30px)",transition:"all 0.7s ease"},children:[(0,o.jsxs)("h3",{style:{color:e.accent,marginBottom:12,fontSize:18,fontWeight:800,letterSpacing:1,display:"flex",alignItems:"center",gap:8},children:[(0,o.jsx)("span",{children:"\uD83D\uDD0D"}),"نتيجة التحليل"]}),(0,o.jsx)("div",{style:{whiteSpace:"pre-line",fontSize:16,lineHeight:1.8},children:I[n]})]})]},t))}),"results"===j&&(0,o.jsxs)("div",{style:{background:e.card,borderRadius:16,boxShadow:"0 4px 20px ".concat(e.shadow),padding:(0,d.Fr)()?20:32,border:"1.5px solid ".concat(e.border)},children:[(0,o.jsx)("div",{style:{fontSize:(0,d.Fr)()?24:32,fontWeight:900,color:e.accent,marginBottom:16},children:"\uD83D\uDCCA ملخص النتائج"}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:(0,d.Fr)()?"1fr":"repeat(3, 1fr)",gap:16,marginBottom:24},children:[(0,o.jsxs)("div",{style:{background:e.resultBg,borderRadius:12,padding:16,border:"1px solid ".concat(e.border),textAlign:"center"},children:[(0,o.jsx)("div",{style:{fontSize:24,fontWeight:800,color:e.accent},children:I.filter(e=>!!e).length}),(0,o.jsx)("div",{style:{fontSize:14,color:e.text},children:"مرحلة مكتملة"})]}),(0,o.jsxs)("div",{style:{background:e.resultBg,borderRadius:12,padding:16,border:"1px solid ".concat(e.border),textAlign:"center"},children:[(0,o.jsx)("div",{style:{fontSize:24,fontWeight:800,color:e.accent2},children:x.length-I.filter(e=>!!e).length}),(0,o.jsx)("div",{style:{fontSize:14,color:e.text},children:"مرحلة متبقية"})]}),(0,o.jsxs)("div",{style:{background:e.resultBg,borderRadius:12,padding:16,border:"1px solid ".concat(e.border),textAlign:"center"},children:[(0,o.jsxs)("div",{style:{fontSize:24,fontWeight:800,color:e.accent},children:[Math.round(I.filter(e=>!!e).length/x.length*100),"%"]}),(0,o.jsx)("div",{style:{fontSize:14,color:e.text},children:"نسبة الإنجاز"})]})]}),I.some(e=>!!e)?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{style:{fontSize:(0,d.Fr)()?16:18,color:e.text,marginBottom:24,lineHeight:1.6,textAlign:"center"},children:"نتائج المراحل المكتملة"}),(0,o.jsx)("div",{style:{display:"grid",gridTemplateColumns:(0,d.Fr)()?"1fr":"repeat(2, 1fr)",gap:16},children:I.map((t,n)=>t&&(0,o.jsxs)("div",{style:{background:e.resultBg,borderRadius:12,padding:16,border:"1px solid ".concat(e.border),cursor:"pointer",transition:"all 0.3s ease"},onClick:()=>S("stages"),title:"انقر للانتقال إلى مراحل التحليل",children:[(0,o.jsx)("div",{style:{fontWeight:700,color:e.accent2,marginBottom:8,fontSize:14},children:x[n]}),(0,o.jsxs)("div",{style:{fontSize:13,color:e.text,lineHeight:1.5},children:[t.substring(0,120),"..."]}),(0,o.jsx)("div",{style:{fontSize:11,color:e.accent,marginTop:8,textAlign:"center",fontWeight:600},children:"انقر لعرض النتيجة كاملة"})]},n))})]}):(0,o.jsxs)("div",{style:{background:e.resultBg,borderRadius:12,padding:32,border:"1px solid ".concat(e.border),textAlign:"center",color:e.text},children:[(0,o.jsx)("div",{style:{fontSize:48,marginBottom:16},children:"\uD83D\uDCDD"}),(0,o.jsx)("div",{style:{fontSize:18,fontWeight:700,marginBottom:12},children:"لا توجد نتائج بعد"}),(0,o.jsx)("div",{style:{fontSize:14,opacity:.8,marginBottom:20},children:'ابدأ بتحليل المراحل في تبويب "مراحل التحليل" لرؤية النتائج هنا'}),(0,o.jsx)("button",{onClick:()=>S("stages"),style:{background:e.accent,color:"#fff",border:"none",borderRadius:8,padding:"12px 24px",fontSize:16,fontWeight:700,cursor:"pointer"},children:"الانتقال لمراحل التحليل"})]})]})]}):null]}),(0,o.jsxs)("footer",{style:{textAlign:"center",color:"#888",marginTop:48,fontSize:15,background:e.card,borderRadius:16,padding:(0,d.Fr)()?20:32,boxShadow:"0 4px 20px ".concat(e.shadow),border:"1px solid ".concat(e.border),margin:"48px auto 0",maxWidth:800,width:"90%"},children:[(0,o.jsxs)("div",{style:{fontSize:18,fontWeight:700,color:e.accent,marginBottom:16},children:["\xa9 ",new Date().getFullYear()," منصة التحليل القانوني الذكي"]}),(0,o.jsxs)("div",{style:{marginTop:18,background:t?"#2a1a1a":"#fffbe6",color:t?"#ffb6b6":"#b7791f",borderRadius:12,padding:"16px 20px",display:"inline-block",fontWeight:700,fontSize:14,boxShadow:"0 2px 8px ".concat(t?"#ff6b6b22":"#b7791f22"),border:"1px solid ".concat(t?"#ff6b6b33":"#b7791f33"),maxWidth:"90%",lineHeight:1.6},children:["⚠️ جميع بياناتك (القضايا والمفاتيح) تحفظ محليًا على جهازك فقط ولا يتم رفعها إلى أي خادم.",(0,o.jsx)("button",{onClick:async()=>{await (0,l.M8)(),await (0,s.hZ)("legal_dark_mode","0"),window.location.reload()},style:{marginRight:12,background:"#ff6b6b",color:"#fff",border:"none",borderRadius:8,padding:"8px 18px",fontWeight:800,fontSize:14,cursor:"pointer",boxShadow:"0 2px 8px #ff6b6b22",marginLeft:8,transition:"all 0.3s ease"},children:"\uD83D\uDDD1️ مسح كل البيانات"})]})]})]}),(0,o.jsx)("style",{children:"\n        @keyframes spin { 0% { transform: rotate(0deg);} 100% { transform: rotate(360deg);} }\n      "})]}):null}},6670:(e,t,n)=>{"use strict";n.d(t,{Gm:()=>g,I7:()=>b,LF:()=>u,M8:()=>x,Pc:()=>l,WL:()=>s,W_:()=>c,mn:()=>h,qK:()=>p,ub:()=>m,x1:()=>d});var o=n(9703);let r="legal_cases",i="gemini_api_key",a="legal_templates";async function l(e){await (0,o.hZ)(i,e)}async function s(){return await (0,o.Jt)(i)||""}async function d(){return await (0,o.Jt)(r)||[]}async function c(e){await (0,o.hZ)(r,e)}async function p(e){let t=await d();t.unshift(e),await c(t)}async function g(e){let t=await d();t=t.map(t=>t.id===e.id?e:t),await c(t)}async function x(){await (0,o.yH)(r)}async function u(){return await (0,o.Jt)(a)||[]}async function f(e){await (0,o.hZ)(a,e)}async function h(e){let t=await u();t.unshift(e),await f(t)}async function m(e){let t=await u();t=t.map(t=>t.id===e.id?e:t),await f(t)}async function b(e){let t=await u();t=t.filter(t=>t.id!==e),await f(t)}},6760:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(3566)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(6760)),_N_E=e.O()}]);